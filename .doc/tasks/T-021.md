# T-021: GDP数据彻底整改 - 全量数据溯源与清理

## 目标
为 Compare 项目所有 1,391 条 GDP 数据建立完整溯源体系，删除无法验证的数据，确保100%真实可溯源。

## 当前数据质量诊断

| 指标 | 数值 | 问题 |
|:---|:---:|:---|
| 总记录数 | 1,391 条 | - |
| 有来源标注 | **3 条** (0.2%) | ❌ 严重不足 |
| 无来源标注 | **1,388 条** (99.8%) | ❌ 需补充 |
| 整数值记录 | **104 条** | ⚠️ 需验证或删除 |

## 整改策略

### 阶段1: 数据分类与优先级（2小时）
按区域类型分组，优先处理高价值数据：

| 优先级 | 区域类型 | 数量 | 处理策略 |
|:---:|:---|:---:|:---|
| P0 | 一线城市（北上广深） | ~110条 | 必须有官方来源 |
| P1 | 新一线及省会 | ~400条 | 必须有官方来源 |
| P2 | 其他地级市 | ~500条 | 优先官方，允许权威媒体 |
| P3 | 县级市/区县 | ~380条 | 能找到则补，找不到则删 |

### 阶段2: 逐条溯源与标注（8-12小时）
对每个区域的每年数据，执行：

**搜索策略**：
1. `"{城市名} {年份}年 GDP 统计公报"`
2. `"{城市名} {年份}年 国民经济和社会发展"`
3. `"{城市名}统计局 {年份}"`
4. 访问该城市统计局官网查找历史公报

**来源分级**：
| 等级 | 来源类型 | 可信度 | 处理方式 |
|:---:|:---|:---:|:---|
| A | 统计局官网/公报 | ⭐⭐⭐ | 保留，添加source字段 |
| B | 政府工作报告 | ⭐⭐⭐ | 保留，添加source字段 |
| C | 权威媒体（有具体数字）| ⭐⭐ | 保留，标注媒体来源 |
| D | 找不到来源 | ❌ | 删除该条记录 |

### 阶段3: 整数值数据清理（1小时）
- 删除所有整数值且无法找到官方来源的数据
- 保留整数值但有明确官方来源的数据（如政府报告中的取整）

### 阶段4: 数据验证（2小时）
- 检查所有数据都有 source 字段
- 检查 source URL 可访问（抽样）
- 检查数值合理性（无异常跳变）

## 输出要求

### 1. 整改报告
```
## T-021 数据整改报告

### 整改前
- 总记录数: 1,391
- 有来源: 3条 (0.2%)
- 无来源: 1,388条 (99.8%)

### 整改后
- 总记录数: X条
- 有来源: X条 (X%)
- 删除记录: X条 (原因: 无来源)

### 数据来源分布
- 统计局官网: X条
- 政府工作报告: X条
- 权威媒体: X条

### 质量提升
- 数据可追溯率: 0.2% → X%
- 官方来源占比: X%
```

### 2. Git提交
```bash
git add -A
git commit -m "data(T-021): GDP数据彻底整改，全量数据溯源

- 为X条数据添加官方来源标注
- 删除X条无来源数据
- 数据来源: 统计局官网、政府工作报告、权威媒体
- 数据可追溯率: X%

Related: T-021 GDP数据彻底整改"
git push
```

### 3. 部署验证
- 构建成功
- 测试通过
- 线上验证

## 风险与应对

| 风险 | 可能性 | 应对 |
|:---|:---:|:---|
| 历史数据找不到来源 | 高 | 删除该条，不估算 |
| 搜索API限制 | 中 | 分批次执行，控制频率 |
| 数据量太大超时 | 中 | 分阶段提交，每阶段保存进度 |

## 验收标准
- [ ] 所有保留数据都有 source 字段
- [ ] 所有保留数据都有可验证的来源
- [ ] 整数值数据都有明确来源说明
- [ ] 删除的数据有记录（城市+年份+原因）
- [ ] 整改报告完整
- [ ] 构建和测试通过
- [ ] Git 提交推送
- [ ] 部署验证

## 进度
| 时间 | 事件 | 状态 |
|:---:|:---|:---:|
| 2026-02-22 | Task 创建 | ✅ |

## 提交记录
- 待添加
